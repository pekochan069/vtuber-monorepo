---
const user = Astro.locals.user;

if (!user) {
  return Astro.redirect("/");
}

import DashboardLayout from "~/layouts/DashboardLayout.astro";
import { Card, CardHeader, CardTitle, CardDescription, CardContent } from "~/components/ui/card";
import { CreateAgencyForm } from "~/components/dashboard/agency/create-agency";
import { QueryAgency } from "~/components/dashboard/agency/query-agency";
---

<DashboardLayout>
  <div class="mt-8 grid gap-4 md:gap-6 2xl:grid-cols-2">
    <Card class="w-full">
      <CardHeader>
        <CardTitle class="text-2xl">소속사 생성</CardTitle>
        <CardDescription class="text-sm">새로운 소속사 생성</CardDescription>
      </CardHeader>
      <CardContent>
        <CreateAgencyForm client:only="solid-js" />
      </CardContent>
    </Card>
    <Card>
      <CardHeader>
        <CardTitle class="text-2xl">소속사 검색</CardTitle>
      </CardHeader>
      <CardContent>
        <QueryAgency client:only="solid-js" />
      </CardContent>
    </Card>
  </div>
</DashboardLayout>
